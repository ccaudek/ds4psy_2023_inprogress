
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Introduzione alla data analisi &#8212; ds4psy</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Calcolo combinatorio" href="014_dice.html" />
    <link rel="prev" title="Le relazioni tra variabili" href="012_correlation.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">ds4psy</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Benvenuti
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Nozioni di base
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="preface.html">
   Prefazione
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="001_key_notions.html">
   Concetti chiave
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="005_measurement.html">
   La misurazione in psicologia
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="007_freq_distr.html">
   Analisi esplorativa dei dati
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="011_loc_scale.html">
   Indici di posizione e di scala
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="012_correlation.html">
   Le relazioni tra variabili
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Introduzione alla data analisi
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Probabilità
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="014_dice.html">
   Calcolo combinatorio
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="015_intro_prob.html">
   La logica dell’incerto
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="016_conditional_prob.html">
   Probabilità condizionata: significato, teoremi, eventi indipendenti
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="017_bayes_theorem.html">
   Il teorema di Bayes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="018_expval_var.html">
   Indici di posizione, di varianza e di associazione di variabili casuali
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="019_joint_prob.html">
   Probabilità congiunta
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="020_density_func.html">
   La densità di probabilità
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Distribuzioni di v.c.
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="022_discr_rv_distr.html">
   Distribuzioni di v.c. discrete
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="023_cont_rv_distr.html">
   Distribuzioni di v.c. continue
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="024_likelihood.html">
   La verosimiglianza
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Inferenza bayesiana
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="025_intro_bayes.html">
   Credibilità, modelli e parametri
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="026_subj_prop.html">
   Pensare ad una proporzione in termini soggettivi
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="029_conjugate_families.html">
   Distribuzioni coniugate
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="030_balance_prior_post.html">
   L’influenza della distribuzione a priori
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="036_metropolis.html">
   Approssimazione della distribuzione a posteriori
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="040_beta_binomial.html">
   Markov Chain Monte Carlo per l’inferenza bayesiana
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="050_normal_normal_mod.html">
   Inferenza su una media
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Regressione lineare
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="051_reglin_1.html">
   Introduzione
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="052_reglin_2.html">
   Regressione lineare bivariata
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="053_reglin_3.html">
   Regressione lineare con PyMC
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="054_reglin_4.html">
   Confronto tra le medie di due gruppi
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Inferenza frequentista
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="220_intro_frequentist.html">
   Legge dei grandi numeri
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="221_conf_interv.html">
   Intervallo fiduciale
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="226_test_ipotesi.html">
   Significatività statistica
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="228_limiti_stat_frequentista.html">
   Limiti dell’inferenza frequentista
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="230_s_m_errors.html">
   Errori di tipo
   <em>
    m
   </em>
   (magnitude) e di tipo
   <em>
    s
   </em>
   (sign)
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Bibliografia
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="z_biblio.html">
   Bibliografia
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Appendici
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="a01_math_symbols.html">
   Simbologia di base
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="a02_number_sets.html">
   Numeri binari, interi, razionali, irrazionali e reali
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="a04_summation_notation.html">
   Simbolo di somma (sommatorie)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="a05_calculus_notation.html">
   Per liberarvi dai terrori preliminari
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/ccaudek/ds4psy_2023/master?urlpath=tree/docs/013_eda_quickstart.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/ccaudek/ds4psy_2023"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/ccaudek/ds4psy_2023/issues/new?title=Issue%20on%20page%20%2F013_eda_quickstart.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/013_eda_quickstart.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduzione">
   Introduzione
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#importare-i-dati-in-pandas">
   Importare i dati in pandas
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#il-dataframe">
   Il DataFrame
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tipi-di-dati">
   Tipi di dati
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#estrarre-i-dati-dal-dataframe">
   Estrarre i dati dal DataFrame
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#colonne">
     Colonne
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#righe">
     Righe
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#iloc">
     iloc
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#loc">
     loc
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pulizia-dei-dati">
   Pulizia dei dati
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#visualizzazione-dei-dati">
   Visualizzazione dei dati
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#barplot">
     Barplot
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#istrogramma-lisciato">
     Istrogramma lisciato
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#swarmplot">
     Swarmplot
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#boxplot">
     Boxplot
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#relazioni-tra-variabili">
   Relazioni tra variabili
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#filtrare-righe-in-maniera-condizionale">
   Filtrare righe in maniera condizionale
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#riordinare-le-righe">
   Riordinare le righe
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#manipolare-le-colonne">
   Manipolare le colonne
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#selezionare-le-colonne">
     Selezionare le colonne
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rinominare-le-colonne-con-rename">
     Rinominare le colonne con
     <code class="docutils literal notranslate">
      <span class="pre">
       .rename
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#creare-nuove-colonne">
     Creare nuove colonne
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#riepiloghi-numerici">
   Riepiloghi numerici
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ragruppare-i-dati-con-groupby">
   Ragruppare i dati con
   <code class="docutils literal notranslate">
    <span class="pre">
     .groupby()
    </span>
   </code>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#aggiungere-nuove-colonne-con-transform">
     Aggiungere nuove colonne con
     <code class="docutils literal notranslate">
      <span class="pre">
       .transform()
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#riassunto-come-accedere-a-righe-colonne-e-valori">
   Riassunto: come accedere a righe, colonne e valori
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#operazioni-su-righe-colonne-e-dataframe">
   Operazioni su righe, colonne e dataframe
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#operazioni-con-apply-su-righe-o-colonne">
     Operazioni con
     <code class="docutils literal notranslate">
      <span class="pre">
       apply
      </span>
     </code>
     su righe o colonne
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#operazioni-su-dataframe">
     Operazioni su DataFrame
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#commenti-e-considerazioni-finali">
   Commenti e considerazioni finali
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#riassunto-del-contenuto">
   Riassunto del contenuto
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Introduzione alla data analisi</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduzione">
   Introduzione
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#importare-i-dati-in-pandas">
   Importare i dati in pandas
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#il-dataframe">
   Il DataFrame
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tipi-di-dati">
   Tipi di dati
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#estrarre-i-dati-dal-dataframe">
   Estrarre i dati dal DataFrame
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#colonne">
     Colonne
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#righe">
     Righe
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#iloc">
     iloc
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#loc">
     loc
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pulizia-dei-dati">
   Pulizia dei dati
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#visualizzazione-dei-dati">
   Visualizzazione dei dati
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#barplot">
     Barplot
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#istrogramma-lisciato">
     Istrogramma lisciato
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#swarmplot">
     Swarmplot
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#boxplot">
     Boxplot
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#relazioni-tra-variabili">
   Relazioni tra variabili
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#filtrare-righe-in-maniera-condizionale">
   Filtrare righe in maniera condizionale
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#riordinare-le-righe">
   Riordinare le righe
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#manipolare-le-colonne">
   Manipolare le colonne
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#selezionare-le-colonne">
     Selezionare le colonne
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rinominare-le-colonne-con-rename">
     Rinominare le colonne con
     <code class="docutils literal notranslate">
      <span class="pre">
       .rename
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#creare-nuove-colonne">
     Creare nuove colonne
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#riepiloghi-numerici">
   Riepiloghi numerici
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ragruppare-i-dati-con-groupby">
   Ragruppare i dati con
   <code class="docutils literal notranslate">
    <span class="pre">
     .groupby()
    </span>
   </code>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#aggiungere-nuove-colonne-con-transform">
     Aggiungere nuove colonne con
     <code class="docutils literal notranslate">
      <span class="pre">
       .transform()
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#riassunto-come-accedere-a-righe-colonne-e-valori">
   Riassunto: come accedere a righe, colonne e valori
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#operazioni-su-righe-colonne-e-dataframe">
   Operazioni su righe, colonne e dataframe
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#operazioni-con-apply-su-righe-o-colonne">
     Operazioni con
     <code class="docutils literal notranslate">
      <span class="pre">
       apply
      </span>
     </code>
     su righe o colonne
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#operazioni-su-dataframe">
     Operazioni su DataFrame
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#commenti-e-considerazioni-finali">
   Commenti e considerazioni finali
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#riassunto-del-contenuto">
   Riassunto del contenuto
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="introduzione-alla-data-analisi">
<span id="edaquickstart"></span><h1>Introduzione alla data analisi<a class="headerlink" href="#introduzione-alla-data-analisi" title="Permalink to this headline">#</a></h1>
<section id="introduzione">
<h2>Introduzione<a class="headerlink" href="#introduzione" title="Permalink to this headline">#</a></h2>
<p>In questo capitolo presenteremo alcuni strumenti che possono essere usati per l’analisi esplorativa dei dati in Python. In particolare, ci concentreremo su una struttura chiamata <em>DataFrame</em>. Nella loro forma più semplice, i DataFrame sono una rappresentazione tabulare dei dati con righe e colonne. Per fare un esempio, considereremo qui i dati <em>Palmer Archipelago (Antarctica) penguin</em>. Questi dati sono stati raccolti dal 2007 al 2009 da Kristen Gorman con il <em>Palmer Station Long Term Ecological Research Program</em> che fa parte del <em>US Long Term Ecological Research Network</em>.</p>
<p><img alt="" src="_images/emperor_penguin.jpg" /></p>
</section>
<section id="importare-i-dati-in-pandas">
<h2>Importare i dati in pandas<a class="headerlink" href="#importare-i-dati-in-pandas" title="Permalink to this headline">#</a></h2>
<p>Per prima cosa dobbiamo importare i pacchetti che useremo nel resto di questo capitolo.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">arviz</span> <span class="k">as</span> <span class="nn">az</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib_inline.backend_inline</span>

<span class="o">%</span><span class="k">config</span> InlineBackend.figure_format = &#39;retina&#39;
<span class="n">az</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s2">&quot;arviz-darkgrid&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;tableau-colorblind10&#39;</span><span class="p">)</span>

<span class="c1"># Set seed for reproducibility</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Il dataset di cui ci occupiamo può essere recuperato in vari modi: può essere scaricato da internet, può essere importato da un file csv esterno, oppure può essere caricato da <code class="docutils literal notranslate"><span class="pre">seaborn</span></code>. Questa è la strada che seguiremo qui. Il modulo <code class="docutils literal notranslate"><span class="pre">seaborn</span></code> contiene i seguenti set di dati:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">sns</span><span class="o">.</span><span class="n">get_dataset_names</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;anagrams&#39;, &#39;anscombe&#39;, &#39;attention&#39;, &#39;brain_networks&#39;, &#39;car_crashes&#39;, &#39;diamonds&#39;, &#39;dots&#39;, &#39;dowjones&#39;, &#39;exercise&#39;, &#39;flights&#39;, &#39;fmri&#39;, &#39;geyser&#39;, &#39;glue&#39;, &#39;healthexp&#39;, &#39;iris&#39;, &#39;mpg&#39;, &#39;penguins&#39;, &#39;planets&#39;, &#39;seaice&#39;, &#39;taxis&#39;, &#39;tips&#39;, &#39;titanic&#39;]
</pre></div>
</div>
</div>
</div>
<p>Carichiamo il set di dati <code class="docutils literal notranslate"><span class="pre">penguins</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">=</span><span class="n">sns</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s1">&#39;penguins&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Per caricare i dati da un file esterno si possono usare i comandi <code class="docutils literal notranslate"><span class="pre">df</span> <span class="pre">=</span> <span class="pre">pd.read_csv(...)</span></code> o <code class="docutils literal notranslate"><span class="pre">df</span> <span class="pre">=</span> <span class="pre">pd.read_stata(...)</span></code>. Se vogliamo scaricare i dati <code class="docutils literal notranslate"><span class="pre">palmerpenguins</span></code> da Internet possiamo usare il comando seguente:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/allisonhorst/palmerpenguins/1a19e36ba583887a4630b1f821e3a53d5a4ffb76/data-raw/penguins_raw.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Continuiamo qui con l’oggetto <code class="docutils literal notranslate"><span class="pre">df</span></code> che abbiamo creato.  Troviamo la classe dell’istanza <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>pandas.core.frame.DataFrame
</pre></div>
</div>
</div>
</div>
<p>L’oggetto <code class="docutils literal notranslate"><span class="pre">df</span></code> appartiene alla classe <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>.</p>
</section>
<section id="il-dataframe">
<h2>Il DataFrame<a class="headerlink" href="#il-dataframe" title="Permalink to this headline">#</a></h2>
<p>Un DataFrame è una struttura di dati bidimensionale che può memorizzare dati di diversi tipi (inclusi caratteri, numeri interi, dati categoriali, …) in colonne. Un DataFrame è molto simile a una matrice. Come una matrice, un DataFrame memorizza i valori in una “griglia” di righe e colonne.</p>
<p>Se si lavora con dati tabulari, è bene provare a utilizzare il cosiddetto formato “tidy data”. Si tratta di dati con un’osservazione per riga e una variabile per colonna, i quali sono organizzati in questo modo:</p>
<p><img alt="" src="https://d33wubrfki0l68.cloudfront.net/6f1ddb544fc5c69a2478e444ab8112fb0eea23f8/91adc/images/tidy-1.png" /></p>
<p>Ogni riga di un DataFrame rappresenta una “osservazione”. Un’osservazione è un’entità o un evento coerente per il quale sono state registrate delle informazioni. Ogni colonna di un DataFrame rappresenta una misurazione o un’informazione che è stata registrata per ciascuna delle osservazioni. Ad esempio, le osservazioni in un frame di dati potrebbero essere delle persone per le quali sono state effettuate alcune misurazioni fisiche o demografiche, ma potrebbero essere qualunque altra cosa, come città o eventi… Nel DataFrame che stiamo usando quale esempio, le osservazioni sono pinguini.</p>
<p>Ogni riga di un DataFrame può contenere valori di tipi eterogenei, poiché non tutte le informazioni registrate su ciascuna osservazione sono necessariamente dello stesso tipo. Ad esempio, il DataFrame dei pinguini registra sia variabili quantitative (la lunghezza del becco, la massa corporea, …) che variabili categoriali (la specie, l’isola dove vivono, il genere).</p>
<p>Il formato <em>tidy data</em> non è appropriato per tutte le analisi dei dati, ma è opportuno utilizzarlo comunque come modalità di default di immaggazinamento dei dati; sarà poi facile trasformarlo per ottenere la struttura del DataFrame appropriata per qualunque specifica analisi dei dati.</p>
<p>Possiamo ottenere il nome delle colonne del nostro DataFrame nel modo seguente.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;species&#39;, &#39;island&#39;, &#39;bill_length_mm&#39;, &#39;bill_depth_mm&#39;,
       &#39;flipper_length_mm&#39;, &#39;body_mass_g&#39;, &#39;sex&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<p>Oppure, possiamo stampare i nomi delle colonne con un ciclo for.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>species
island
bill_length_mm
bill_depth_mm
flipper_length_mm
body_mass_g
sex
</pre></div>
</div>
</div>
</div>
<p>Oppure ancora, in maniera più semplice, usando una <em>list comprehension</em>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="nb">print</span><span class="p">(</span><span class="n">col</span><span class="p">)</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>species
island
bill_length_mm
bill_depth_mm
flipper_length_mm
body_mass_g
sex
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[None, None, None, None, None, None, None]
</pre></div>
</div>
</div>
</div>
<p>Questo è il significato delle variabili (colonne):</p>
<ul class="simple">
<li><p>species: a factor denoting penguin type (Adélie, Chinstrap and Gentoo)</p></li>
<li><p>island: a factor denoting island in Palmer Archipelago, Antarctica (Biscoe, Dream or Torgersen)</p></li>
<li><p>bill_length_mm: a number denoting bill length (millimeters)</p></li>
<li><p>bill_depth_mm: a number denoting bill depth (millimeters)</p></li>
<li><p>flipper_length_mm: an integer denoting flipper length (millimeters)</p></li>
<li><p>body_mass_g: an integer denoting body mass (grams)</p></li>
<li><p>sex: a factor denoting sexuality (female, male)</p></li>
</ul>
<p>Quali sono le dimensioni del DataFrame <code class="docutils literal notranslate"><span class="pre">df</span></code>?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(344, 7)
</pre></div>
</div>
</div>
</div>
<p>Il DataFrame <code class="docutils literal notranslate"><span class="pre">df</span></code> è costituito da 344 righe e 7 colonne. Esaminiamo il contenuto di <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>species</th>
      <th>island</th>
      <th>bill_length_mm</th>
      <th>bill_depth_mm</th>
      <th>flipper_length_mm</th>
      <th>body_mass_g</th>
      <th>sex</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.1</td>
      <td>18.7</td>
      <td>181.0</td>
      <td>3750.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.5</td>
      <td>17.4</td>
      <td>186.0</td>
      <td>3800.0</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>40.3</td>
      <td>18.0</td>
      <td>195.0</td>
      <td>3250.0</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>36.7</td>
      <td>19.3</td>
      <td>193.0</td>
      <td>3450.0</td>
      <td>Female</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>species</th>
      <th>island</th>
      <th>bill_length_mm</th>
      <th>bill_depth_mm</th>
      <th>flipper_length_mm</th>
      <th>body_mass_g</th>
      <th>sex</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>339</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>340</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>46.8</td>
      <td>14.3</td>
      <td>215.0</td>
      <td>4850.0</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>341</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>50.4</td>
      <td>15.7</td>
      <td>222.0</td>
      <td>5750.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>342</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>45.2</td>
      <td>14.8</td>
      <td>212.0</td>
      <td>5200.0</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>343</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>49.9</td>
      <td>16.1</td>
      <td>213.0</td>
      <td>5400.0</td>
      <td>Male</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>bill_length_mm</th>
      <th>bill_depth_mm</th>
      <th>flipper_length_mm</th>
      <th>body_mass_g</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>342.000000</td>
      <td>342.000000</td>
      <td>342.000000</td>
      <td>342.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>43.921930</td>
      <td>17.151170</td>
      <td>200.915205</td>
      <td>4201.754386</td>
    </tr>
    <tr>
      <th>std</th>
      <td>5.459584</td>
      <td>1.974793</td>
      <td>14.061714</td>
      <td>801.954536</td>
    </tr>
    <tr>
      <th>min</th>
      <td>32.100000</td>
      <td>13.100000</td>
      <td>172.000000</td>
      <td>2700.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>39.225000</td>
      <td>15.600000</td>
      <td>190.000000</td>
      <td>3550.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>44.450000</td>
      <td>17.300000</td>
      <td>197.000000</td>
      <td>4050.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>48.500000</td>
      <td>18.700000</td>
      <td>213.000000</td>
      <td>4750.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>59.600000</td>
      <td>21.500000</td>
      <td>231.000000</td>
      <td>6300.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="tipi-di-dati">
<h2>Tipi di dati<a class="headerlink" href="#tipi-di-dati" title="Permalink to this headline">#</a></h2>
<p>Un pandas DataFrame può contenere dati di tipi diversi:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 344 entries, 0 to 343
Data columns (total 7 columns):
 #   Column             Non-Null Count  Dtype  
---  ------             --------------  -----  
 0   species            344 non-null    object 
 1   island             344 non-null    object 
 2   bill_length_mm     342 non-null    float64
 3   bill_depth_mm      342 non-null    float64
 4   flipper_length_mm  342 non-null    float64
 5   body_mass_g        342 non-null    float64
 6   sex                333 non-null    object 
dtypes: float64(4), object(3)
memory usage: 18.9+ KB
</pre></div>
</div>
</div>
</div>
</section>
<section id="estrarre-i-dati-dal-dataframe">
<h2>Estrarre i dati dal DataFrame<a class="headerlink" href="#estrarre-i-dati-dal-dataframe" title="Permalink to this headline">#</a></h2>
<section id="colonne">
<h3>Colonne<a class="headerlink" href="#colonne" title="Permalink to this headline">#</a></h3>
<p>Ci sono molti modi per estrarre le colonne da un <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>. La sintassi più semplice è quella di usare le parentesi quadre. Ad esempio, per ottenere una singola colonna, usiamo il nome della colonna tra virgolette:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;bill_length_mm&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0      39.1
1      39.5
2      40.3
3       NaN
4      36.7
       ... 
339     NaN
340    46.8
341    50.4
342    45.2
343    49.9
Name: bill_length_mm, Length: 344, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>oppure, in maniera equivalente, possiamo usare la seguente sintassi</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">bill_length_mm</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0      39.1
1      39.5
2      40.3
3       NaN
4      36.7
       ... 
339     NaN
340    46.8
341    50.4
342    45.2
343    49.9
Name: bill_length_mm, Length: 344, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Le colonne hanno l’attributo <code class="docutils literal notranslate"><span class="pre">dtype</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;bill_length_mm&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>dtype(&#39;float64&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;island&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>dtype(&#39;O&#39;)
</pre></div>
</div>
</div>
</div>
<p>Per selezionare colonne multiple possiamo usare le doppie parentesi quadre:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;bill_length_mm&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sex</th>
      <th>bill_length_mm</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Male</td>
      <td>39.1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Female</td>
      <td>39.5</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Female</td>
      <td>40.3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Female</td>
      <td>36.7</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>339</th>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>340</th>
      <td>Female</td>
      <td>46.8</td>
    </tr>
    <tr>
      <th>341</th>
      <td>Male</td>
      <td>50.4</td>
    </tr>
    <tr>
      <th>342</th>
      <td>Female</td>
      <td>45.2</td>
    </tr>
    <tr>
      <th>343</th>
      <td>Male</td>
      <td>49.9</td>
    </tr>
  </tbody>
</table>
<p>344 rows × 2 columns</p>
</div></div></div>
</div>
<p>Talvolta vogliamo selezionare un sottoinsieme di colonne sulla base di un particolare tipo di dati.  Ad esempio:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="s2">&quot;float&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>bill_length_mm</th>
      <th>bill_depth_mm</th>
      <th>flipper_length_mm</th>
      <th>body_mass_g</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>39.1</td>
      <td>18.7</td>
      <td>181.0</td>
      <td>3750.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>39.5</td>
      <td>17.4</td>
      <td>186.0</td>
      <td>3800.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>40.3</td>
      <td>18.0</td>
      <td>195.0</td>
      <td>3250.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>36.7</td>
      <td>19.3</td>
      <td>193.0</td>
      <td>3450.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>339</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>340</th>
      <td>46.8</td>
      <td>14.3</td>
      <td>215.0</td>
      <td>4850.0</td>
    </tr>
    <tr>
      <th>341</th>
      <td>50.4</td>
      <td>15.7</td>
      <td>222.0</td>
      <td>5750.0</td>
    </tr>
    <tr>
      <th>342</th>
      <td>45.2</td>
      <td>14.8</td>
      <td>212.0</td>
      <td>5200.0</td>
    </tr>
    <tr>
      <th>343</th>
      <td>49.9</td>
      <td>16.1</td>
      <td>213.0</td>
      <td>5400.0</td>
    </tr>
  </tbody>
</table>
<p>344 rows × 4 columns</p>
</div></div></div>
</div>
<p>È anche possibile selezionare colonne in base a criteri che fanno riferimento a pattern contenuti nel nome della colonna. Per esempio:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&quot;mm&quot;</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>bill_length_mm</th>
      <th>bill_depth_mm</th>
      <th>flipper_length_mm</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>39.1</td>
      <td>18.7</td>
      <td>181.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>39.5</td>
      <td>17.4</td>
      <td>186.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>40.3</td>
      <td>18.0</td>
      <td>195.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>36.7</td>
      <td>19.3</td>
      <td>193.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>339</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>340</th>
      <td>46.8</td>
      <td>14.3</td>
      <td>215.0</td>
    </tr>
    <tr>
      <th>341</th>
      <td>50.4</td>
      <td>15.7</td>
      <td>222.0</td>
    </tr>
    <tr>
      <th>342</th>
      <td>45.2</td>
      <td>14.8</td>
      <td>212.0</td>
    </tr>
    <tr>
      <th>343</th>
      <td>49.9</td>
      <td>16.1</td>
      <td>213.0</td>
    </tr>
  </tbody>
</table>
<p>344 rows × 3 columns</p>
</div></div></div>
</div>
<p>Altri metodi sono <code class="docutils literal notranslate"><span class="pre">startswith</span></code>, <code class="docutils literal notranslate"><span class="pre">endswith</span></code>, <code class="docutils literal notranslate"><span class="pre">isnumeric</span></code>, e <code class="docutils literal notranslate"><span class="pre">islower</span></code>.</p>
</section>
<section id="righe">
<h3>Righe<a class="headerlink" href="#righe" title="Permalink to this headline">#</a></h3>
<p>Mentre l’indicizzazione delle colonne da un <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> è relativamente semplice, l’indicizzazione delle righe presenta alcune sottigliezze frustranti.</p>
<p>Possiamo utilizzare un indice di <code class="docutils literal notranslate"><span class="pre">slice</span></code> per ottenere un intervallo di righe. Questo è semplice. Per le prime 15 righe usiamo l’indice <code class="docutils literal notranslate"><span class="pre">0:15</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">15</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>   species     island  bill_length_mm  bill_depth_mm  flipper_length_mm  \
0   Adelie  Torgersen            39.1           18.7              181.0   
1   Adelie  Torgersen            39.5           17.4              186.0   
2   Adelie  Torgersen            40.3           18.0              195.0   
3   Adelie  Torgersen             NaN            NaN                NaN   
4   Adelie  Torgersen            36.7           19.3              193.0   
5   Adelie  Torgersen            39.3           20.6              190.0   
6   Adelie  Torgersen            38.9           17.8              181.0   
7   Adelie  Torgersen            39.2           19.6              195.0   
8   Adelie  Torgersen            34.1           18.1              193.0   
9   Adelie  Torgersen            42.0           20.2              190.0   
10  Adelie  Torgersen            37.8           17.1              186.0   
11  Adelie  Torgersen            37.8           17.3              180.0   
12  Adelie  Torgersen            41.1           17.6              182.0   
13  Adelie  Torgersen            38.6           21.2              191.0   
14  Adelie  Torgersen            34.6           21.1              198.0   

    body_mass_g     sex  
0        3750.0    Male  
1        3800.0  Female  
2        3250.0  Female  
3           NaN     NaN  
4        3450.0  Female  
5        3650.0    Male  
6        3625.0  Female  
7        4675.0    Male  
8        3475.0     NaN  
9        4250.0     NaN  
10       3300.0     NaN  
11       3700.0     NaN  
12       3200.0  Female  
13       3800.0    Male  
14       4400.0    Male  
</pre></div>
</div>
</div>
</div>
<p>Dato che in Python una sequenza è determinata dal valore iniziale e quello finale, <em>ma si interrompe ad n-1</em>, per selezionare una singola riga dobbiamo procedere nel modo seguente. Selezioniamo la prima riga (indice: 0):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  species     island  bill_length_mm  bill_depth_mm  flipper_length_mm  \
0  Adelie  Torgersen            39.1           18.7              181.0   

   body_mass_g   sex  
0       3750.0  Male  
</pre></div>
</div>
</div>
</div>
</section>
<section id="iloc">
<h3>iloc<a class="headerlink" href="#iloc" title="Permalink to this headline">#</a></h3>
<p>Se vogliamo indicizzare righe e colonne, è meglio speficicare esplicitamente a pandas se il nostro indice è una posizione o un nome. L’attributo <code class="docutils literal notranslate"><span class="pre">iloc</span></code> memorizza i dati per posizione (<code class="docutils literal notranslate"><span class="pre">iloc</span></code> è un’abbreviazione di “integer location”). Quindi il modo esplicito per ottenere prima riga, ad esempio, è quello passare l’indice [0] a <code class="docutils literal notranslate"><span class="pre">iloc</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>species                 Adelie
island               Torgersen
bill_length_mm            39.1
bill_depth_mm             18.7
flipper_length_mm        181.0
body_mass_g             3750.0
sex                       Male
Name: 0, dtype: object
</pre></div>
</div>
</div>
</div>
<p>È possibile un’indicizzazione per riga e colonna: il primo indice si riferisce alla riga e il secondo alla colonna. Per esempio, per ottere il valore della seconda riga e terza colonna procediamo come segue.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>18.0
</pre></div>
</div>
</div>
</div>
</section>
<section id="loc">
<h3>loc<a class="headerlink" href="#loc" title="Permalink to this headline">#</a></h3>
<p>Ma solo raramente è utile selezionare colonne per posizione. Le colonne di solito hanno nomi, nel qual caso dovremmo usare quelli invece degli indici di posizione (che possono variare).</p>
<p>Se vogliamo selezionare righe e colonne per nome e non per posizione, l’attributo corrispondente per questa operazione si chiama <code class="docutils literal notranslate"><span class="pre">loc</span></code>.</p>
<p>Abbiamo visto che le colonne hanno nomi, ma anche le righe hanno nomi? In effetti li hanno. I nomi delle righe sono semplicemente le loro posizioni – gli indici di riga. (In alcuni rari casi alle righe possono essere assegnati dei nomi).</p>
<p>Quindi, sia <code class="docutils literal notranslate"><span class="pre">iloc</span></code> che <code class="docutils literal notranslate"><span class="pre">loc</span></code> danno lo stesso risultato quando selezioniamo una sola riga, perché l’indice intero è sia la posizione che il nome della riga:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>species                 Adelie
island               Torgersen
bill_length_mm            39.1
bill_depth_mm             18.7
flipper_length_mm        181.0
body_mass_g             3750.0
sex                       Male
Name: 0, dtype: object
</pre></div>
</div>
</div>
</div>
<p>Ma <code class="docutils literal notranslate"><span class="pre">loc</span></code> ci consente di indicizzare ulteriormente una o più colonne per nome, che è il suo vero vantaggio:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;bill_length_mm&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>39.3
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;bill_length_mm&#39;</span><span class="p">,</span> <span class="s1">&#39;flipper_length_mm&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>bill_length_mm        39.3
flipper_length_mm    190.0
Name: 5, dtype: object
</pre></div>
</div>
</div>
</div>
<p>Si noti nell’output che <code class="docutils literal notranslate"><span class="pre">Name:</span> <span class="pre">5</span></code> indica che ci stiamo riferendo alla sesta riga.</p>
<p>Questi sono i valori delle prime cinque righe sulle due colonne precedenti. Si noti l’uso di <code class="docutils literal notranslate"><span class="pre">:</span></code> per definire un intervallo di valori dell’indice.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;bill_length_mm&#39;</span><span class="p">,</span> <span class="s1">&#39;flipper_length_mm&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>bill_length_mm</th>
      <th>flipper_length_mm</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>39.1</td>
      <td>181.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>39.5</td>
      <td>186.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>40.3</td>
      <td>195.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>36.7</td>
      <td>193.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>39.3</td>
      <td>190.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Una piccola variante della sintassi precedente si rivela molto utile.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">keep_cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;species&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;island&#39;</span><span class="p">,</span> <span class="s1">&#39;bill_length_mm&#39;</span><span class="p">]</span>
<span class="n">df1</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">keep_cols</span><span class="p">]</span>  
<span class="nb">print</span><span class="p">(</span><span class="n">df1</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>  
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;species&#39;, &#39;sex&#39;, &#39;island&#39;, &#39;bill_length_mm&#39;], dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<p>C’è un’ultima importante sottigliezza da notare sugli attributi <code class="docutils literal notranslate"><span class="pre">loc</span></code> e <code class="docutils literal notranslate"><span class="pre">iloc</span></code>. Per vedere di cosa si tratta, assegniamo un sottoinsieme di righe ad un nuovo data frame:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_subset</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">15</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_subset</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>   species     island  bill_length_mm  bill_depth_mm  flipper_length_mm  \
5   Adelie  Torgersen            39.3           20.6              190.0   
6   Adelie  Torgersen            38.9           17.8              181.0   
7   Adelie  Torgersen            39.2           19.6              195.0   
8   Adelie  Torgersen            34.1           18.1              193.0   
9   Adelie  Torgersen            42.0           20.2              190.0   
10  Adelie  Torgersen            37.8           17.1              186.0   
11  Adelie  Torgersen            37.8           17.3              180.0   
12  Adelie  Torgersen            41.1           17.6              182.0   
13  Adelie  Torgersen            38.6           21.2              191.0   
14  Adelie  Torgersen            34.6           21.1              198.0   

    body_mass_g     sex  
5        3650.0    Male  
6        3625.0  Female  
7        4675.0    Male  
8        3475.0     NaN  
9        4250.0     NaN  
10       3300.0     NaN  
11       3700.0     NaN  
12       3200.0  Female  
13       3800.0    Male  
14       4400.0    Male  
</pre></div>
</div>
</div>
</div>
<p>Si noti che le righe nel nuovo frame mantengono i loro nomi originali. In realtà questo era già vero per il nostro dataframe di partenza, il quale è solo un sottoinsieme di un dataframe più grande.</p>
<p>Una conseguenza importante di ciò è che una volta selezionato un sottoinsieme di righe, i nomi delle righe non corrispondono più alle posizioni delle righe. Questa differenza si manifesta quando usiamo i metodi di indicizzazione <code class="docutils literal notranslate"><span class="pre">iloc</span></code> e <code class="docutils literal notranslate"><span class="pre">loc</span></code>. Fortunatamente non è qualcosa di cui dobbiamo preoccuparci perché molto raramente ci poniamo il problema di selezionare sottoinsiemi di righe facendo riferimento al loro indice naturale. Inoltre, le righe di un frame di dati sono spesso disposte in un ordine arbitrario; sono i valori memorizzati nelle righe che danno loro significato, non la loro posizione nel data frame.</p>
</section>
</section>
<section id="pulizia-dei-dati">
<h2>Pulizia dei dati<a class="headerlink" href="#pulizia-dei-dati" title="Permalink to this headline">#</a></h2>
<p>Le tre colonne <code class="docutils literal notranslate"><span class="pre">species</span></code>, <code class="docutils literal notranslate"><span class="pre">island</span></code> e <code class="docutils literal notranslate"><span class="pre">sex</span></code> sono di tipo <code class="docutils literal notranslate"><span class="pre">object</span></code>, ovvero Python non è stato in grado di determinare in maniera automatica che tipo di dati questi siano.  Sono dei dati categoriali, per cui possiamo fornire noi questa informazione.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;species&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;species&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;sex&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;sex&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;island&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;island&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 344 entries, 0 to 343
Data columns (total 7 columns):
 #   Column             Non-Null Count  Dtype   
---  ------             --------------  -----   
 0   species            344 non-null    category
 1   island             344 non-null    category
 2   bill_length_mm     342 non-null    float64 
 3   bill_depth_mm      342 non-null    float64 
 4   flipper_length_mm  342 non-null    float64 
 5   body_mass_g        342 non-null    float64 
 6   sex                333 non-null    category
dtypes: category(3), float64(4)
memory usage: 12.3 KB
</pre></div>
</div>
</div>
</div>
<p>Chiediamoci ora quanti dati mancanti ci sono.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>species               0
island                0
bill_length_mm        2
bill_depth_mm         2
flipper_length_mm     2
body_mass_g           2
sex                  11
dtype: int64
</pre></div>
</div>
</div>
</div>
<p>Ci sono dei dati mancanti.  Per semplicità eliminiamo tutte le righe che contengono almeno un dato mancante su qualche colonna. In generale questa non è una buona idea ma lo facciamo comunque qui per fare un esercizio.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(333, 7)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="s1">&#39;object&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="visualizzazione-dei-dati">
<h2>Visualizzazione dei dati<a class="headerlink" href="#visualizzazione-dei-dati" title="Permalink to this headline">#</a></h2>
<section id="barplot">
<h3>Barplot<a class="headerlink" href="#barplot" title="Permalink to this headline">#</a></h3>
<p>Quante osservazioni per ciascuna isola?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;island&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot: &gt;
</pre></div>
</div>
<img alt="_images/013_eda_quickstart_68_1.png" src="_images/013_eda_quickstart_68_1.png" />
</div>
</div>
<p>Quante osservazioni per ciascuna specie?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;species&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;barh&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot: &gt;
</pre></div>
</div>
<img alt="_images/013_eda_quickstart_70_1.png" src="_images/013_eda_quickstart_70_1.png" />
</div>
</div>
</section>
<section id="istrogramma-lisciato">
<h3>Istrogramma lisciato<a class="headerlink" href="#istrogramma-lisciato" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;flipper_length_mm&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">kde</span><span class="p">(</span><span class="n">bw_method</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot: ylabel=&#39;Density&#39;&gt;
</pre></div>
</div>
<img alt="_images/013_eda_quickstart_72_1.png" src="_images/013_eda_quickstart_72_1.png" />
</div>
</div>
</section>
<section id="swarmplot">
<h3>Swarmplot<a class="headerlink" href="#swarmplot" title="Permalink to this headline">#</a></h3>
<p>Esaminiamo la lunghezza del becco del pinguino separatamente per ciascuna isola, disinguendo tra le varie specie.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">swarmplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">island</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">bill_length_mm</span><span class="p">,</span><span class="n">hue</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">species</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/corrado/opt/anaconda3/envs/bambi_env/lib/python3.8/site-packages/pandas/core/arrays/categorical.py:555: RuntimeWarning: invalid value encountered in cast
  np.array(self.categories._na_value).astype(dtype)
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot: xlabel=&#39;island&#39;, ylabel=&#39;bill_length_mm&#39;&gt;
</pre></div>
</div>
<img alt="_images/013_eda_quickstart_75_2.png" src="_images/013_eda_quickstart_75_2.png" />
</div>
</div>
<p>Scopriamo che</p>
<ul class="simple">
<li><p>Adelie vive in tutte e tre le isole.</p></li>
<li><p>Gentoo vive solo in Biscoe.</p></li>
<li><p>Gentoo e Chinstrap hanno becchi più lunghi rispetto ad Adelie.</p></li>
</ul>
</section>
<section id="boxplot">
<h3>Boxplot<a class="headerlink" href="#boxplot" title="Permalink to this headline">#</a></h3>
<p>Analizziamo la massa del corpo in funzione della specie, distinguendo le osservazioni in base al genere.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">species</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">body_mass_g</span><span class="p">,</span><span class="n">hue</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">sex</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot: xlabel=&#39;species&#39;, ylabel=&#39;body_mass_g&#39;&gt;
</pre></div>
</div>
<img alt="_images/013_eda_quickstart_79_1.png" src="_images/013_eda_quickstart_79_1.png" />
</div>
</div>
<p>Dal box-plot è abbastanza evidente che i pinguini maschi pesano più delle femmine in tutte le tre specie, e che i pinguini Gentoo pesano più di Adelie e Chinstrap.</p>
</section>
</section>
<section id="relazioni-tra-variabili">
<h2>Relazioni tra variabili<a class="headerlink" href="#relazioni-tra-variabili" title="Permalink to this headline">#</a></h2>
<p>Calcoliamo la correlazione tra le variabili.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">correlation_matrix</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
<span class="n">correlation_matrix</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/var/folders/hl/dt523djx7_q7xjrthzjpdvc40000gn/T/ipykernel_86493/2576092325.py:1: FutureWarning: The default value of numeric_only in DataFrame.corr is deprecated. In a future version, it will default to False. Select only valid columns or specify the value of numeric_only to silence this warning.
  correlation_matrix=df.corr()
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>bill_length_mm</th>
      <th>bill_depth_mm</th>
      <th>flipper_length_mm</th>
      <th>body_mass_g</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>bill_length_mm</th>
      <td>1.000000</td>
      <td>-0.228626</td>
      <td>0.653096</td>
      <td>0.589451</td>
    </tr>
    <tr>
      <th>bill_depth_mm</th>
      <td>-0.228626</td>
      <td>1.000000</td>
      <td>-0.577792</td>
      <td>-0.472016</td>
    </tr>
    <tr>
      <th>flipper_length_mm</th>
      <td>0.653096</td>
      <td>-0.577792</td>
      <td>1.000000</td>
      <td>0.872979</td>
    </tr>
    <tr>
      <th>body_mass_g</th>
      <td>0.589451</td>
      <td>-0.472016</td>
      <td>0.872979</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>È più semplice leggere queste informazioni usando la rappresentazione seguente.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">correlation_matrix</span><span class="p">,</span><span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">linecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span><span class="n">linewidths</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;YlGnBu&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot: &gt;
</pre></div>
</div>
<img alt="_images/013_eda_quickstart_84_1.png" src="_images/013_eda_quickstart_84_1.png" />
</div>
</div>
<p>La lunghezza della pinna e la massa corporea sono fortemente associati con una correlazione di 0.87. In altre parole, i pinguini con pinne più lunghe generalmente pesano di più.</p>
<p>Nella figura seguente otteniamo sia diagrammi a dispersione sia degli istogrammi.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">pairplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.PairGrid at 0x7fd108bff940&gt;
</pre></div>
</div>
<img alt="_images/013_eda_quickstart_87_1.png" src="_images/013_eda_quickstart_87_1.png" />
</div>
</div>
<p>Vediamo qui sotto un altro esempio di diagramma a dispersione.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">bill_length_mm</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">bill_depth_mm</span><span class="p">,</span><span class="n">hue</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">species</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot: xlabel=&#39;bill_length_mm&#39;, ylabel=&#39;bill_depth_mm&#39;&gt;
</pre></div>
</div>
<img alt="_images/013_eda_quickstart_89_1.png" src="_images/013_eda_quickstart_89_1.png" />
</div>
</div>
<p>Chiaramente le osservazioni delle tre specie si raggruppano in cluster separati.<br />
Per ciascuna specie, la lunghezza e la largezza del becco rientrano in un certo intervallo.</p>
</section>
<section id="filtrare-righe-in-maniera-condizionale">
<h2>Filtrare righe in maniera condizionale<a class="headerlink" href="#filtrare-righe-in-maniera-condizionale" title="Permalink to this headline">#</a></h2>
<p>In precedenza abbiamo selezionato le righe in base alla loro posizione. È molto più comune selezionare le righe del DataFrame in base al loro valore oppure in base a qualche condizione che si può specificare rispetto alle altre colonne.</p>
<p>Iniziamo con un semplice esempio che riguarda una condizione sui valori di una colonna. Quando applichiamo un operatore logico come &gt;, &lt;, ==, !=, il risultato è una sequenza di valori booleani (ovvero True o False), uno per ogni riga nel dataframe, che indica se la condizione è vera o falsa per quella riga.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;bill_length_mm&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">40</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0      False
1      False
2       True
4      False
5      False
       ...  
338     True
340     True
341     True
342     True
343     True
Name: bill_length_mm, Length: 333, dtype: bool
</pre></div>
</div>
</div>
</div>
<p>Questi valori booleani possono a loro volta essere utilizzati come indici (direttamente sul dataframe) per selezionare le righe in cui la condizione è soddisfatta. Per esempio:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;bill_length_mm&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">40</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>    species     island  bill_length_mm  bill_depth_mm  flipper_length_mm  \
2    Adelie  Torgersen            40.3           18.0              195.0   
12   Adelie  Torgersen            41.1           17.6              182.0   
17   Adelie  Torgersen            42.5           20.7              197.0   
19   Adelie  Torgersen            46.0           21.5              194.0   
26   Adelie     Biscoe            40.6           18.6              183.0   
..      ...        ...             ...            ...                ...   
338  Gentoo     Biscoe            47.2           13.7              214.0   
340  Gentoo     Biscoe            46.8           14.3              215.0   
341  Gentoo     Biscoe            50.4           15.7              222.0   
342  Gentoo     Biscoe            45.2           14.8              212.0   
343  Gentoo     Biscoe            49.9           16.1              213.0   

     body_mass_g     sex  
2         3250.0  Female  
12        3200.0  Female  
17        4500.0    Male  
19        4200.0    Male  
26        3550.0    Male  
..           ...     ...  
338       4925.0  Female  
340       4850.0  Female  
341       5750.0    Male  
342       5200.0  Female  
343       5400.0    Male  

[237 rows x 7 columns]
</pre></div>
</div>
</div>
</div>
<p>Gli operatori <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> (e) e <code class="docutils literal notranslate"><span class="pre">|</span></code> (oppure) possono essere utilizzati per combinare più condizioni.</p>
<p>Ad esempio, selezioniamo tutte le righe relative ai pinguini dell’isola Dream che appartengono alla specie Adelie e hanno un becco di lunghezza maggiore di 40 mm.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;island&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Dream&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;species&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Adelie&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;bill_length_mm&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">40</span><span class="p">)]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>species</th>
      <th>island</th>
      <th>bill_length_mm</th>
      <th>bill_depth_mm</th>
      <th>flipper_length_mm</th>
      <th>body_mass_g</th>
      <th>sex</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>33</th>
      <td>Adelie</td>
      <td>Dream</td>
      <td>40.9</td>
      <td>18.9</td>
      <td>184.0</td>
      <td>3900.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>37</th>
      <td>Adelie</td>
      <td>Dream</td>
      <td>42.2</td>
      <td>18.5</td>
      <td>180.0</td>
      <td>3550.0</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>41</th>
      <td>Adelie</td>
      <td>Dream</td>
      <td>40.8</td>
      <td>18.4</td>
      <td>195.0</td>
      <td>3900.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>43</th>
      <td>Adelie</td>
      <td>Dream</td>
      <td>44.1</td>
      <td>19.7</td>
      <td>196.0</td>
      <td>4400.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>46</th>
      <td>Adelie</td>
      <td>Dream</td>
      <td>41.1</td>
      <td>19.0</td>
      <td>182.0</td>
      <td>3425.0</td>
      <td>Male</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Possiamo semplificare l’instruzione precedente usando <code class="docutils literal notranslate"><span class="pre">.eval()</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">eval_string</span> <span class="o">=</span> <span class="s2">&quot;species == &#39;Adelie&#39; &amp; island == &#39;Dream&#39; &amp; bill_length_mm &gt; 40&quot;</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="n">eval_string</span><span class="p">),</span> <span class="p">:]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>species</th>
      <th>island</th>
      <th>bill_length_mm</th>
      <th>bill_depth_mm</th>
      <th>flipper_length_mm</th>
      <th>body_mass_g</th>
      <th>sex</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>33</th>
      <td>Adelie</td>
      <td>Dream</td>
      <td>40.9</td>
      <td>18.9</td>
      <td>184.0</td>
      <td>3900.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>37</th>
      <td>Adelie</td>
      <td>Dream</td>
      <td>42.2</td>
      <td>18.5</td>
      <td>180.0</td>
      <td>3550.0</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>41</th>
      <td>Adelie</td>
      <td>Dream</td>
      <td>40.8</td>
      <td>18.4</td>
      <td>195.0</td>
      <td>3900.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>43</th>
      <td>Adelie</td>
      <td>Dream</td>
      <td>44.1</td>
      <td>19.7</td>
      <td>196.0</td>
      <td>4400.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>46</th>
      <td>Adelie</td>
      <td>Dream</td>
      <td>41.1</td>
      <td>19.0</td>
      <td>182.0</td>
      <td>3425.0</td>
      <td>Male</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>In alternativa, possiamo usare <code class="docutils literal notranslate"><span class="pre">loc</span></code>. <code class="docutils literal notranslate"><span class="pre">.loc</span></code> accetta due argomenti. Il primo è un elenco dei nomi delle righe che si voglino selezionare <em>o</em> una condizione (cioè un elenco di valori booleani con la stessa lunghezza del dataframe) che seleziona determinate righe (ad esempio <code class="docutils literal notranslate"><span class="pre">df['column1']</span> <span class="pre">==</span> <span class="pre">'black'</span></code>). Il secondo argomento è costituito da un elenco dei nomi di colonne che si desiderano selezionare. In entrambi i casi, <code class="docutils literal notranslate"><span class="pre">:</span></code> è la notazione per ‘tutte le righe’ o ‘tutte le colonne’.</p>
<p>Come abbiamo visto sopra, se si vuole fare riferimento solo ad una serie di condizioni <em>o</em> se si vuole estrarre un insieme di colonne (ma non entrambe le cose), si può semplicemente scrivere <code class="docutils literal notranslate"><span class="pre">df[condizione(i)]</span></code> o <code class="docutils literal notranslate"><span class="pre">df[colonna(e)]</span></code>.</p>
<p>Ecco un esempio con <code class="docutils literal notranslate"><span class="pre">loc</span></code> nel quale abbiamo una condizione costituita da due parti e un elenco di colonne. Qui consideriamo solo i dati dell’isola Dream. Di questi dati vogliamo stampare la lunghezza della pinna.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;island&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Dream&quot;</span><span class="p">,</span> <span class="s2">&quot;bill_length_mm&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>30     39.5
31     37.2
32     39.5
33     40.9
34     36.4
       ... 
215    55.8
216    43.5
217    49.6
218    50.8
219    50.2
Name: bill_length_mm, Length: 123, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Escludendo i dati dell’isola Dream, consideriamo solo la specie Adelie. Vogliamo le osservazioni relative alla lunghezza della pinna e la massa corporea.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;island&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;Dream&quot;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;species&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Adelie&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;bill_length_mm&quot;</span><span class="p">,</span> <span class="s2">&quot;body_mass_g&quot;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>bill_length_mm</th>
      <th>body_mass_g</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>39.1</td>
      <td>3750.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>39.5</td>
      <td>3800.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>40.3</td>
      <td>3250.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>36.7</td>
      <td>3450.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>39.3</td>
      <td>3650.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>127</th>
      <td>41.5</td>
      <td>4300.0</td>
    </tr>
    <tr>
      <th>128</th>
      <td>39.0</td>
      <td>3050.0</td>
    </tr>
    <tr>
      <th>129</th>
      <td>44.1</td>
      <td>4000.0</td>
    </tr>
    <tr>
      <th>130</th>
      <td>38.5</td>
      <td>3325.0</td>
    </tr>
    <tr>
      <th>131</th>
      <td>43.1</td>
      <td>3500.0</td>
    </tr>
  </tbody>
</table>
<p>91 rows × 2 columns</p>
</div></div></div>
</div>
<p>È anche possibile usare il metodo <code class="docutils literal notranslate"><span class="pre">.query()</span></code> per filtrare le righe di un DataFrame. Per l’esempio precedente abbiamo:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;island != &#39;Dream&#39; and species == &#39;Adelie&#39;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>species</th>
      <th>island</th>
      <th>bill_length_mm</th>
      <th>bill_depth_mm</th>
      <th>flipper_length_mm</th>
      <th>body_mass_g</th>
      <th>sex</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.1</td>
      <td>18.7</td>
      <td>181.0</td>
      <td>3750.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.5</td>
      <td>17.4</td>
      <td>186.0</td>
      <td>3800.0</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>40.3</td>
      <td>18.0</td>
      <td>195.0</td>
      <td>3250.0</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>36.7</td>
      <td>19.3</td>
      <td>193.0</td>
      <td>3450.0</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.3</td>
      <td>20.6</td>
      <td>190.0</td>
      <td>3650.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>127</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>41.5</td>
      <td>18.3</td>
      <td>195.0</td>
      <td>4300.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>128</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.0</td>
      <td>17.1</td>
      <td>191.0</td>
      <td>3050.0</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>129</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>44.1</td>
      <td>18.0</td>
      <td>210.0</td>
      <td>4000.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>130</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>38.5</td>
      <td>17.9</td>
      <td>190.0</td>
      <td>3325.0</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>131</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>43.1</td>
      <td>19.2</td>
      <td>197.0</td>
      <td>3500.0</td>
      <td>Male</td>
    </tr>
  </tbody>
</table>
<p>91 rows × 7 columns</p>
</div></div></div>
</div>
<p>Il metodo <code class="docutils literal notranslate"><span class="pre">query()</span></code> può essere utilizzato anche per selezionare le righe in base alle relazioni tra le colonne. Ad esempio,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;bill_length_mm &lt; bill_depth_mm*1.8&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>species</th>
      <th>island</th>
      <th>bill_length_mm</th>
      <th>bill_depth_mm</th>
      <th>flipper_length_mm</th>
      <th>body_mass_g</th>
      <th>sex</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>14</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>34.6</td>
      <td>21.1</td>
      <td>198.0</td>
      <td>4400.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>70</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>33.5</td>
      <td>19.0</td>
      <td>190.0</td>
      <td>3600.0</td>
      <td>Female</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>È possibile fare riferimento a variabili non contenute nel DataFrame mediante il carattere <code class="docutils literal notranslate"><span class="pre">&#64;</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">outside_var</span> <span class="o">=</span> <span class="mi">21</span>
<span class="n">df</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;bill_depth_mm &gt; @outside_var&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>species</th>
      <th>island</th>
      <th>bill_length_mm</th>
      <th>bill_depth_mm</th>
      <th>flipper_length_mm</th>
      <th>body_mass_g</th>
      <th>sex</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>13</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>38.6</td>
      <td>21.2</td>
      <td>191.0</td>
      <td>3800.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>14</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>34.6</td>
      <td>21.1</td>
      <td>198.0</td>
      <td>4400.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>19</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>46.0</td>
      <td>21.5</td>
      <td>194.0</td>
      <td>4200.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>35</th>
      <td>Adelie</td>
      <td>Dream</td>
      <td>39.2</td>
      <td>21.1</td>
      <td>196.0</td>
      <td>4150.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>49</th>
      <td>Adelie</td>
      <td>Dream</td>
      <td>42.3</td>
      <td>21.2</td>
      <td>191.0</td>
      <td>4150.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>61</th>
      <td>Adelie</td>
      <td>Biscoe</td>
      <td>41.3</td>
      <td>21.1</td>
      <td>195.0</td>
      <td>4400.0</td>
      <td>Male</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="riordinare-le-righe">
<h2>Riordinare le righe<a class="headerlink" href="#riordinare-le-righe" title="Permalink to this headline">#</a></h2>
<p>Talvolta è utile riordinare le righe in ordine crescente o decrescente in relazione ai valori qualche colonna. Con <strong>pandas</strong> questo è possibile usando la funzione <code class="docutils literal notranslate"><span class="pre">.sort_values()</span></code>. Si usa <code class="docutils literal notranslate"><span class="pre">sort_values(columns,</span> <span class="pre">ascending=False)</span></code> per l’ordine discendente.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">&quot;body_mass_g&quot;</span><span class="p">,</span> <span class="s2">&quot;bill_length_mm&quot;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>species</th>
      <th>island</th>
      <th>bill_length_mm</th>
      <th>bill_depth_mm</th>
      <th>flipper_length_mm</th>
      <th>body_mass_g</th>
      <th>sex</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>237</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>49.2</td>
      <td>15.2</td>
      <td>221.0</td>
      <td>6300.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>253</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>59.6</td>
      <td>17.0</td>
      <td>230.0</td>
      <td>6050.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>297</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>51.1</td>
      <td>16.3</td>
      <td>220.0</td>
      <td>6000.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>337</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>48.8</td>
      <td>16.2</td>
      <td>222.0</td>
      <td>6000.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>331</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>49.8</td>
      <td>15.9</td>
      <td>229.0</td>
      <td>5950.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>54</th>
      <td>Adelie</td>
      <td>Biscoe</td>
      <td>34.5</td>
      <td>18.1</td>
      <td>187.0</td>
      <td>2900.0</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>98</th>
      <td>Adelie</td>
      <td>Dream</td>
      <td>33.1</td>
      <td>16.1</td>
      <td>178.0</td>
      <td>2900.0</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>58</th>
      <td>Adelie</td>
      <td>Biscoe</td>
      <td>36.5</td>
      <td>16.6</td>
      <td>181.0</td>
      <td>2850.0</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>64</th>
      <td>Adelie</td>
      <td>Biscoe</td>
      <td>36.4</td>
      <td>17.1</td>
      <td>184.0</td>
      <td>2850.0</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>190</th>
      <td>Chinstrap</td>
      <td>Dream</td>
      <td>46.9</td>
      <td>16.6</td>
      <td>192.0</td>
      <td>2700.0</td>
      <td>Female</td>
    </tr>
  </tbody>
</table>
<p>333 rows × 7 columns</p>
</div></div></div>
</div>
</section>
<section id="manipolare-le-colonne">
<h2>Manipolare le colonne<a class="headerlink" href="#manipolare-le-colonne" title="Permalink to this headline">#</a></h2>
<section id="selezionare-le-colonne">
<h3>Selezionare le colonne<a class="headerlink" href="#selezionare-le-colonne" title="Permalink to this headline">#</a></h3>
<p>Per selezione di più colonne in un intervallo possiamo usare <code class="docutils literal notranslate"><span class="pre">.loc[startrow:stoprow:step,</span> <span class="pre">startcolumn:stopcolumn:step]</span></code> o <code class="docutils literal notranslate"><span class="pre">.iloc[start:stop:step,</span> <span class="pre">start:stop:step]</span></code>. Ad esempio, selezioniamo le colonne comprese tra ‘bill_length_mm’ e ‘body_mass’:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s2">&quot;bill_length_mm&quot;</span><span class="p">:</span><span class="s2">&quot;body_mass_g&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>bill_length_mm</th>
      <th>bill_depth_mm</th>
      <th>flipper_length_mm</th>
      <th>body_mass_g</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>39.1</td>
      <td>18.7</td>
      <td>181.0</td>
      <td>3750.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>39.5</td>
      <td>17.4</td>
      <td>186.0</td>
      <td>3800.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>40.3</td>
      <td>18.0</td>
      <td>195.0</td>
      <td>3250.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>36.7</td>
      <td>19.3</td>
      <td>193.0</td>
      <td>3450.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>39.3</td>
      <td>20.6</td>
      <td>190.0</td>
      <td>3650.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>338</th>
      <td>47.2</td>
      <td>13.7</td>
      <td>214.0</td>
      <td>4925.0</td>
    </tr>
    <tr>
      <th>340</th>
      <td>46.8</td>
      <td>14.3</td>
      <td>215.0</td>
      <td>4850.0</td>
    </tr>
    <tr>
      <th>341</th>
      <td>50.4</td>
      <td>15.7</td>
      <td>222.0</td>
      <td>5750.0</td>
    </tr>
    <tr>
      <th>342</th>
      <td>45.2</td>
      <td>14.8</td>
      <td>212.0</td>
      <td>5200.0</td>
    </tr>
    <tr>
      <th>343</th>
      <td>49.9</td>
      <td>16.1</td>
      <td>213.0</td>
      <td>5400.0</td>
    </tr>
  </tbody>
</table>
<p>333 rows × 4 columns</p>
</div></div></div>
</div>
<p>Qui sotto selezioniamo ogni decima riga dalla seconda colonna e le colonne comprese tra ‘bill_length_mm’ e ‘body_mass’:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">2</span><span class="p">::</span><span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;bill_length_mm&quot;</span><span class="p">:</span><span class="s2">&quot;body_mass_g&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>bill_length_mm</th>
      <th>bill_depth_mm</th>
      <th>flipper_length_mm</th>
      <th>body_mass_g</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>40.3</td>
      <td>18.0</td>
      <td>195.0</td>
      <td>3250.0</td>
    </tr>
    <tr>
      <th>17</th>
      <td>42.5</td>
      <td>20.7</td>
      <td>197.0</td>
      <td>4500.0</td>
    </tr>
    <tr>
      <th>27</th>
      <td>40.5</td>
      <td>17.9</td>
      <td>187.0</td>
      <td>3200.0</td>
    </tr>
    <tr>
      <th>37</th>
      <td>42.2</td>
      <td>18.5</td>
      <td>180.0</td>
      <td>3550.0</td>
    </tr>
    <tr>
      <th>48</th>
      <td>36.0</td>
      <td>17.9</td>
      <td>190.0</td>
      <td>3450.0</td>
    </tr>
    <tr>
      <th>58</th>
      <td>36.5</td>
      <td>16.6</td>
      <td>181.0</td>
      <td>2850.0</td>
    </tr>
    <tr>
      <th>68</th>
      <td>35.9</td>
      <td>16.6</td>
      <td>190.0</td>
      <td>3050.0</td>
    </tr>
    <tr>
      <th>78</th>
      <td>36.2</td>
      <td>16.1</td>
      <td>187.0</td>
      <td>3550.0</td>
    </tr>
    <tr>
      <th>88</th>
      <td>38.3</td>
      <td>19.2</td>
      <td>189.0</td>
      <td>3950.0</td>
    </tr>
    <tr>
      <th>98</th>
      <td>33.1</td>
      <td>16.1</td>
      <td>178.0</td>
      <td>2900.0</td>
    </tr>
    <tr>
      <th>108</th>
      <td>38.1</td>
      <td>17.0</td>
      <td>181.0</td>
      <td>3175.0</td>
    </tr>
    <tr>
      <th>118</th>
      <td>35.7</td>
      <td>17.0</td>
      <td>189.0</td>
      <td>3350.0</td>
    </tr>
    <tr>
      <th>128</th>
      <td>39.0</td>
      <td>17.1</td>
      <td>191.0</td>
      <td>3050.0</td>
    </tr>
    <tr>
      <th>138</th>
      <td>37.0</td>
      <td>16.5</td>
      <td>185.0</td>
      <td>3400.0</td>
    </tr>
    <tr>
      <th>148</th>
      <td>36.0</td>
      <td>17.8</td>
      <td>195.0</td>
      <td>3450.0</td>
    </tr>
    <tr>
      <th>158</th>
      <td>46.1</td>
      <td>18.2</td>
      <td>178.0</td>
      <td>3250.0</td>
    </tr>
    <tr>
      <th>168</th>
      <td>50.3</td>
      <td>20.0</td>
      <td>197.0</td>
      <td>3300.0</td>
    </tr>
    <tr>
      <th>178</th>
      <td>50.5</td>
      <td>18.4</td>
      <td>200.0</td>
      <td>3400.0</td>
    </tr>
    <tr>
      <th>188</th>
      <td>47.6</td>
      <td>18.3</td>
      <td>195.0</td>
      <td>3850.0</td>
    </tr>
    <tr>
      <th>198</th>
      <td>50.1</td>
      <td>17.9</td>
      <td>190.0</td>
      <td>3400.0</td>
    </tr>
    <tr>
      <th>208</th>
      <td>45.2</td>
      <td>16.6</td>
      <td>191.0</td>
      <td>3250.0</td>
    </tr>
    <tr>
      <th>218</th>
      <td>50.8</td>
      <td>19.0</td>
      <td>210.0</td>
      <td>4100.0</td>
    </tr>
    <tr>
      <th>228</th>
      <td>43.3</td>
      <td>13.4</td>
      <td>209.0</td>
      <td>4400.0</td>
    </tr>
    <tr>
      <th>238</th>
      <td>46.2</td>
      <td>14.5</td>
      <td>209.0</td>
      <td>4800.0</td>
    </tr>
    <tr>
      <th>249</th>
      <td>50.0</td>
      <td>15.3</td>
      <td>220.0</td>
      <td>5550.0</td>
    </tr>
    <tr>
      <th>259</th>
      <td>48.7</td>
      <td>15.7</td>
      <td>208.0</td>
      <td>5350.0</td>
    </tr>
    <tr>
      <th>269</th>
      <td>45.2</td>
      <td>15.8</td>
      <td>215.0</td>
      <td>5300.0</td>
    </tr>
    <tr>
      <th>279</th>
      <td>50.4</td>
      <td>15.3</td>
      <td>224.0</td>
      <td>5550.0</td>
    </tr>
    <tr>
      <th>290</th>
      <td>47.7</td>
      <td>15.0</td>
      <td>216.0</td>
      <td>4750.0</td>
    </tr>
    <tr>
      <th>300</th>
      <td>49.1</td>
      <td>14.5</td>
      <td>212.0</td>
      <td>4625.0</td>
    </tr>
    <tr>
      <th>310</th>
      <td>47.5</td>
      <td>15.0</td>
      <td>218.0</td>
      <td>4950.0</td>
    </tr>
    <tr>
      <th>320</th>
      <td>48.5</td>
      <td>15.0</td>
      <td>219.0</td>
      <td>4850.0</td>
    </tr>
    <tr>
      <th>331</th>
      <td>49.8</td>
      <td>15.9</td>
      <td>229.0</td>
      <td>5950.0</td>
    </tr>
    <tr>
      <th>343</th>
      <td>49.9</td>
      <td>16.1</td>
      <td>213.0</td>
      <td>5400.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Selezioniamo le prime 5 righe dalle ultime 2 colonne:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">:]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>body_mass_g</th>
      <th>sex</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>3750.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>1</th>
      <td>3800.0</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3250.0</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3450.0</td>
      <td>Female</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>È anche possibile selezionare casualmente un campione di righe usando <code class="docutils literal notranslate"><span class="pre">.sample</span></code>. Il metodo <code class="docutils literal notranslate"><span class="pre">.sample(n)</span></code> seleziona casualmente <code class="docutils literal notranslate"><span class="pre">n</span></code> righe. Ad esempio, <code class="docutils literal notranslate"><span class="pre">.sample(frac=0.4)</span></code> seleziona il 40% dei dati. <code class="docutils literal notranslate"><span class="pre">replace=True</span></code> seleziona un campione con reinserimento (l’argomento <code class="docutils literal notranslate"><span class="pre">weights=</span></code> seleziona un numero o una frazione con le probabilità che vengono fornite – si noti che i pesi passati devono avere la stessa lunghezza del dataframe). Per esempio, estraiamo un campione casuale di 5 righe:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>species</th>
      <th>island</th>
      <th>bill_length_mm</th>
      <th>bill_depth_mm</th>
      <th>flipper_length_mm</th>
      <th>body_mass_g</th>
      <th>sex</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>49</th>
      <td>Adelie</td>
      <td>Dream</td>
      <td>42.3</td>
      <td>21.2</td>
      <td>191.0</td>
      <td>4150.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>273</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>50.1</td>
      <td>15.0</td>
      <td>225.0</td>
      <td>5000.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>163</th>
      <td>Chinstrap</td>
      <td>Dream</td>
      <td>51.7</td>
      <td>20.3</td>
      <td>194.0</td>
      <td>3775.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>334</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>46.2</td>
      <td>14.1</td>
      <td>217.0</td>
      <td>4375.0</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>233</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>48.4</td>
      <td>14.6</td>
      <td>213.0</td>
      <td>5850.0</td>
      <td>Male</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="rinominare-le-colonne-con-rename">
<h3>Rinominare le colonne con <code class="docutils literal notranslate"><span class="pre">.rename</span></code><a class="headerlink" href="#rinominare-le-colonne-con-rename" title="Permalink to this headline">#</a></h3>
<p>È possibile rinominare tutte le colonne passando una funzione, ad esempio <code class="docutils literal notranslate"><span class="pre">df.rename(columns=str.lower)</span></code> per fare in modo che i nomi delle colonne siano in minuscolo. In alternativa, si crea un dizionario che specifica quali colonne devono essere mappate a cosa:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;body_mass_g&quot;</span><span class="p">:</span> <span class="s2">&quot;body_mass&quot;</span><span class="p">})</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>species</th>
      <th>island</th>
      <th>bill_length_mm</th>
      <th>bill_depth_mm</th>
      <th>flipper_length_mm</th>
      <th>body_mass</th>
      <th>sex</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.1</td>
      <td>18.7</td>
      <td>181.0</td>
      <td>3750.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.5</td>
      <td>17.4</td>
      <td>186.0</td>
      <td>3800.0</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>40.3</td>
      <td>18.0</td>
      <td>195.0</td>
      <td>3250.0</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>36.7</td>
      <td>19.3</td>
      <td>193.0</td>
      <td>3450.0</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.3</td>
      <td>20.6</td>
      <td>190.0</td>
      <td>3650.0</td>
      <td>Male</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="creare-nuove-colonne">
<h3>Creare nuove colonne<a class="headerlink" href="#creare-nuove-colonne" title="Permalink to this headline">#</a></h3>
<p>Creaiamo una nuova colonna con il valore 5 ripetuto su ogni riga.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;new_column0&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>species</th>
      <th>island</th>
      <th>bill_length_mm</th>
      <th>bill_depth_mm</th>
      <th>flipper_length_mm</th>
      <th>body_mass</th>
      <th>sex</th>
      <th>new_column0</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.1</td>
      <td>18.7</td>
      <td>181.0</td>
      <td>3750.0</td>
      <td>Male</td>
      <td>5</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.5</td>
      <td>17.4</td>
      <td>186.0</td>
      <td>3800.0</td>
      <td>Female</td>
      <td>5</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>40.3</td>
      <td>18.0</td>
      <td>195.0</td>
      <td>3250.0</td>
      <td>Female</td>
      <td>5</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>36.7</td>
      <td>19.3</td>
      <td>193.0</td>
      <td>3450.0</td>
      <td>Female</td>
      <td>5</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.3</td>
      <td>20.6</td>
      <td>190.0</td>
      <td>3650.0</td>
      <td>Male</td>
      <td>5</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>338</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>47.2</td>
      <td>13.7</td>
      <td>214.0</td>
      <td>4925.0</td>
      <td>Female</td>
      <td>5</td>
    </tr>
    <tr>
      <th>340</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>46.8</td>
      <td>14.3</td>
      <td>215.0</td>
      <td>4850.0</td>
      <td>Female</td>
      <td>5</td>
    </tr>
    <tr>
      <th>341</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>50.4</td>
      <td>15.7</td>
      <td>222.0</td>
      <td>5750.0</td>
      <td>Male</td>
      <td>5</td>
    </tr>
    <tr>
      <th>342</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>45.2</td>
      <td>14.8</td>
      <td>212.0</td>
      <td>5200.0</td>
      <td>Female</td>
      <td>5</td>
    </tr>
    <tr>
      <th>343</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>49.9</td>
      <td>16.1</td>
      <td>213.0</td>
      <td>5400.0</td>
      <td>Male</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
<p>333 rows × 8 columns</p>
</div></div></div>
</div>
<p>Passando una lista tra parentesi quadre, possiamo creare più colonne simultaneamente:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[[</span><span class="s2">&quot;new_column1&quot;</span><span class="p">,</span> <span class="s2">&quot;new_column2&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>species</th>
      <th>island</th>
      <th>bill_length_mm</th>
      <th>bill_depth_mm</th>
      <th>flipper_length_mm</th>
      <th>body_mass</th>
      <th>sex</th>
      <th>new_column0</th>
      <th>new_column1</th>
      <th>new_column2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.1</td>
      <td>18.7</td>
      <td>181.0</td>
      <td>3750.0</td>
      <td>Male</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.5</td>
      <td>17.4</td>
      <td>186.0</td>
      <td>3800.0</td>
      <td>Female</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>40.3</td>
      <td>18.0</td>
      <td>195.0</td>
      <td>3250.0</td>
      <td>Female</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>36.7</td>
      <td>19.3</td>
      <td>193.0</td>
      <td>3450.0</td>
      <td>Female</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.3</td>
      <td>20.6</td>
      <td>190.0</td>
      <td>3650.0</td>
      <td>Male</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Molto spesso vengono create nuove colonne sulla base delle colonne già esistenti.</p>
<p><img alt="" src="https://pandas.pydata.org/docs/_images/05_newcolumn_1.svg" /></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;new_column3&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;new_column2&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;new_column1&quot;</span><span class="p">]</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>species</th>
      <th>island</th>
      <th>bill_length_mm</th>
      <th>bill_depth_mm</th>
      <th>flipper_length_mm</th>
      <th>body_mass</th>
      <th>sex</th>
      <th>new_column0</th>
      <th>new_column1</th>
      <th>new_column2</th>
      <th>new_column3</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.1</td>
      <td>18.7</td>
      <td>181.0</td>
      <td>3750.0</td>
      <td>Male</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.5</td>
      <td>17.4</td>
      <td>186.0</td>
      <td>3800.0</td>
      <td>Female</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>40.3</td>
      <td>18.0</td>
      <td>195.0</td>
      <td>3250.0</td>
      <td>Female</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>36.7</td>
      <td>19.3</td>
      <td>193.0</td>
      <td>3450.0</td>
      <td>Female</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>1</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.3</td>
      <td>20.6</td>
      <td>190.0</td>
      <td>3650.0</td>
      <td>Male</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>1</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>338</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>47.2</td>
      <td>13.7</td>
      <td>214.0</td>
      <td>4925.0</td>
      <td>Female</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>1</td>
    </tr>
    <tr>
      <th>340</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>46.8</td>
      <td>14.3</td>
      <td>215.0</td>
      <td>4850.0</td>
      <td>Female</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>1</td>
    </tr>
    <tr>
      <th>341</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>50.4</td>
      <td>15.7</td>
      <td>222.0</td>
      <td>5750.0</td>
      <td>Male</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>1</td>
    </tr>
    <tr>
      <th>342</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>45.2</td>
      <td>14.8</td>
      <td>212.0</td>
      <td>5200.0</td>
      <td>Female</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>1</td>
    </tr>
    <tr>
      <th>343</th>
      <td>Gentoo</td>
      <td>Biscoe</td>
      <td>49.9</td>
      <td>16.1</td>
      <td>213.0</td>
      <td>5400.0</td>
      <td>Male</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>333 rows × 11 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;body_mass_kg&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;body_mass&#39;</span><span class="p">]</span><span class="o">/</span><span class="mi">1000</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>species</th>
      <th>island</th>
      <th>bill_length_mm</th>
      <th>bill_depth_mm</th>
      <th>flipper_length_mm</th>
      <th>body_mass</th>
      <th>sex</th>
      <th>new_column0</th>
      <th>new_column1</th>
      <th>new_column2</th>
      <th>new_column3</th>
      <th>body_mass_kg</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.1</td>
      <td>18.7</td>
      <td>181.0</td>
      <td>3750.0</td>
      <td>Male</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>1</td>
      <td>3.75</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.5</td>
      <td>17.4</td>
      <td>186.0</td>
      <td>3800.0</td>
      <td>Female</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>1</td>
      <td>3.80</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>40.3</td>
      <td>18.0</td>
      <td>195.0</td>
      <td>3250.0</td>
      <td>Female</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>1</td>
      <td>3.25</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>36.7</td>
      <td>19.3</td>
      <td>193.0</td>
      <td>3450.0</td>
      <td>Female</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>1</td>
      <td>3.45</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.3</td>
      <td>20.6</td>
      <td>190.0</td>
      <td>3650.0</td>
      <td>Male</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>1</td>
      <td>3.65</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Per i dati sui pinguini, creiamo un nuova colonna chiamata <code class="docutils literal notranslate"><span class="pre">body_mass_kg</span></code>. Per fare questo possiamo  usare il metodo <code class="docutils literal notranslate"><span class="pre">.assign()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">body_mass_kg</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;body_mass&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>species</th>
      <th>island</th>
      <th>bill_length_mm</th>
      <th>bill_depth_mm</th>
      <th>flipper_length_mm</th>
      <th>body_mass</th>
      <th>sex</th>
      <th>new_column0</th>
      <th>new_column1</th>
      <th>new_column2</th>
      <th>new_column3</th>
      <th>body_mass_kg</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.1</td>
      <td>18.7</td>
      <td>181.0</td>
      <td>3750.0</td>
      <td>Male</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>1</td>
      <td>3.75</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.5</td>
      <td>17.4</td>
      <td>186.0</td>
      <td>3800.0</td>
      <td>Female</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>1</td>
      <td>3.80</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>40.3</td>
      <td>18.0</td>
      <td>195.0</td>
      <td>3250.0</td>
      <td>Female</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>1</td>
      <td>3.25</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>36.7</td>
      <td>19.3</td>
      <td>193.0</td>
      <td>3450.0</td>
      <td>Female</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>1</td>
      <td>3.45</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.3</td>
      <td>20.6</td>
      <td>190.0</td>
      <td>3650.0</td>
      <td>Male</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>1</td>
      <td>3.65</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Con il metodo <code class="docutils literal notranslate"><span class="pre">.assign()</span></code> è possibile concatenare più passaggi insieme. Questo metodo usa una sintassi speciale chiamata istruzione “lambda”, che fornisce un modo per specificare a pandas che desideriamo eseguire l’operazione su ogni riga. Si noti che la parola <code class="docutils literal notranslate"><span class="pre">row</span></code> è arbitraria; potrebbe essere sostituita con qualsiasi altro nome (ad esempio, <code class="docutils literal notranslate"><span class="pre">x</span></code>) ma <code class="docutils literal notranslate"><span class="pre">row</span></code> rende un po’ più chiaro ciò che sta accadendo.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span>
    <span class="n">ratio1</span><span class="o">=</span><span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;bill_length_mm&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;bill_depth_mm&quot;</span><span class="p">],</span>
    <span class="n">ratio2</span><span class="o">=</span><span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;flipper_length_mm&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;body_mass&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span><span class="p">,</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  species     island  bill_length_mm  bill_depth_mm  flipper_length_mm  \
0  Adelie  Torgersen            39.1           18.7              181.0   
1  Adelie  Torgersen            39.5           17.4              186.0   
2  Adelie  Torgersen            40.3           18.0              195.0   
4  Adelie  Torgersen            36.7           19.3              193.0   
5  Adelie  Torgersen            39.3           20.6              190.0   

   body_mass     sex  new_column0  new_column1  new_column2  new_column3  \
0     3750.0    Male            5            5            6            1   
1     3800.0  Female            5            5            6            1   
2     3250.0  Female            5            5            6            1   
4     3450.0  Female            5            5            6            1   
5     3650.0    Male            5            5            6            1   

   body_mass_kg    ratio1    ratio2  
0          3.75  2.090909  4.826667  
1          3.80  2.270115  4.894737  
2          3.25  2.238889  6.000000  
4          3.45  1.901554  5.594203  
5          3.65  1.907767  5.205479  
</pre></div>
</div>
</div>
</div>
<div class="admonition-nota admonition">
<p class="admonition-title">Nota</p>
<p>Una funzione lambda è una normale funzione Python, tranne per il fatto che non ha nome e tende a essere contenuta in una riga di codice. Una funzione lambda è composta da un argomento, due punti e un’espressione. Ad esempio</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">multiply_plus_one</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span>
<span class="n">multiply_plus_one</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>13
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="riepiloghi-numerici">
<h2>Riepiloghi numerici<a class="headerlink" href="#riepiloghi-numerici" title="Permalink to this headline">#</a></h2>
<p>Il riepilogo di più valori in un unico indice va sotto il nome di “aggregazione” dei valori. <code class="docutils literal notranslate"><span class="pre">aggregate()</span></code> è un metodo che può essere applicato agli oggetti <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> e restituisce un nuovo DataFrame più breve contenente solo i valori aggregati. Il primo argomento di <code class="docutils literal notranslate"><span class="pre">aggregate()</span></code> specifica quale funzione o quali funzioni utilizzare per aggregare i dati. Queste funzioni possono essere funzioni Python o funzioni di un modulo che è stato importato. Molte funzioni di aggregazione comuni possono essere trovate nel modulo <code class="docutils literal notranslate"><span class="pre">statistics</span></code> della libreria standard di Python:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">median()</span></code>: la mediana;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mean()</span></code>: la media;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stdev()</span></code>: la deviazione standard;</p></li>
</ul>
<p>Se vogliamo applicare più funzioni di aggregazione, allora è più semplice raccogliere prima le funzioni in una lista, e poi passare questa lista al metodo <code class="docutils literal notranslate"><span class="pre">aggregate()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">statistics</span>

<span class="n">summary_stats</span> <span class="o">=</span> <span class="p">[</span><span class="nb">min</span><span class="p">,</span> <span class="n">statistics</span><span class="o">.</span><span class="n">median</span><span class="p">,</span> <span class="n">statistics</span><span class="o">.</span><span class="n">mean</span><span class="p">,</span> <span class="n">statistics</span><span class="o">.</span><span class="n">stdev</span><span class="p">,</span> <span class="nb">max</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">aggregate</span><span class="p">(</span><span class="n">summary_stats</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>          species island  bill_length_mm  bill_depth_mm  flipper_length_mm  \
min           NaN    NaN       32.100000      13.100000         172.000000   
median  Chinstrap  Dream       44.500000      17.300000         197.000000   
mean          NaN    NaN       43.992793      17.164865         200.966967   
stdev         NaN    NaN        5.468668       1.969235          14.015765   
max           NaN    NaN       59.600000      21.500000         231.000000   

          body_mass   sex  new_column0  new_column1  new_column2  new_column3  \
min     2700.000000   NaN          5.0          5.0          6.0          1.0   
median  4050.000000  Male          5.0          5.0          6.0          1.0   
mean    4207.057057   NaN          5.0          5.0          6.0          1.0   
stdev    805.215802   NaN          0.0          0.0          0.0          0.0   
max     6300.000000   NaN          5.0          5.0          6.0          1.0   

        body_mass_kg    ratio1    ratio2  
min         2.700000  1.639810  3.507937  
median      4.050000  2.576531  4.875000  
mean        4.207057  2.607228  4.894830  
stdev       0.805216  0.495436  0.658203  
max         6.300000  3.612676  7.111111  
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/var/folders/hl/dt523djx7_q7xjrthzjpdvc40000gn/T/ipykernel_86493/429381143.py:4: FutureWarning: [&#39;species&#39;, &#39;island&#39;, &#39;sex&#39;] did not aggregate successfully. If any error is raised this will raise in a future version of pandas. Drop these columns/ops to avoid this warning.
  print(df.aggregate(summary_stats))
</pre></div>
</div>
</div>
</div>
<p>Si noti che pandas ha applicato le funzioni di riepilogo a ogni colonna, ma ci sono alcune colonne per le quali le statistiche riassuntive non possono calcolare, ovvero tutte le colonne che contengono stringhe anziché numeri. Di conseguenza, vediamo che alcuni dei risultati per tali colonne sono contrassegnati con “NaN”. Questa è un’abbreviazione di “Not a Number”, talvolta utilizzata nell’analisi dei dati per rappresentare valori mancanti o non definiti.</p>
<p>La colonna <code class="docutils literal notranslate"><span class="pre">species</span></code> in <code class="docutils literal notranslate"><span class="pre">df</span></code> è una variabile a livello nominale. La cosa principale che vogliamo sapere su una colonna di questo tipo è quante osservazioni ci sono in ciascuna categoria. Il metodo <code class="docutils literal notranslate"><span class="pre">value_counts()</span></code>, applicato a una singola colonna, conta il numero di volte in cui ogni valore ricorre:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;species&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Adelie       146
Gentoo       119
Chinstrap     68
Name: species, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>Se vogliamo sapere quante osservazioni abbiamo in ciascuna categoria, come proporzione del numero totale di osservazioni, possiamo impostare l’argomento <code class="docutils literal notranslate"><span class="pre">normalize</span></code> come <code class="docutils literal notranslate"><span class="pre">True</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;species&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Adelie       0.438438
Gentoo       0.357357
Chinstrap    0.204204
Name: species, dtype: float64
</pre></div>
</div>
</div>
</div>
</section>
<section id="ragruppare-i-dati-con-groupby">
<h2>Ragruppare i dati con <code class="docutils literal notranslate"><span class="pre">.groupby()</span></code><a class="headerlink" href="#ragruppare-i-dati-con-groupby" title="Permalink to this headline">#</a></h2>
<p>Molto spesso vogliamo calcolare le statistiche descrittive separatamente per ciascun gruppo di osservazioni – per esempio, nel caso presente, in base alla specie. Questo si ottiene con il metodo <code class="docutils literal notranslate"><span class="pre">.groupby()</span></code>. Per esempio, ragruppiamo le osservazioni in funzione della specie per poi calcolare le statistiche descrittive definite in precedenza.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;species&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">aggregate</span><span class="p">(</span><span class="n">summary_stats</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>          bill_length_mm                                   bill_depth_mm  \
                     min median       mean     stdev   max           min   
species                                                                    
Adelie              32.1  38.85  38.823973  2.662597  46.0          15.5   
Chinstrap           40.9  49.55  48.833824  3.339256  58.0          16.4   
Gentoo              40.9  47.40  47.568067  3.106116  59.6          13.1   

                                             ...    ratio1            \
          median       mean     stdev   max  ...       min    median   
species                                      ...                       
Adelie     18.40  18.347260  1.219338  21.5  ...  1.639810  2.138188   
Chinstrap  18.45  18.420588  1.135395  20.8  ...  2.350515  2.661577   
Gentoo     15.00  14.996639  0.985998  17.3  ...  2.566474  3.166667   

                                           ratio2                      \
               mean     stdev       max       min    median      mean   
species                                                                 
Adelie     2.121478  0.155282  2.450000  3.956989  5.150515  5.197432   
Chinstrap  2.653756  0.146894  3.258427  4.375000  5.258246  5.288867   
Gentoo     3.176602  0.169122  3.612676  3.507937  4.300000  4.298405   

                               
              stdev       max  
species                        
Adelie     0.581710  6.598291  
Chinstrap  0.462422  7.111111  
Gentoo     0.346678  5.265823  

[3 rows x 55 columns]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/var/folders/hl/dt523djx7_q7xjrthzjpdvc40000gn/T/ipykernel_86493/1634414942.py:1: FutureWarning: [&#39;island&#39;, &#39;sex&#39;] did not aggregate successfully. If any error is raised this will raise in a future version of pandas. Drop these columns/ops to avoid this warning.
  print(df.groupby([&#39;species&#39;]).aggregate(summary_stats))
</pre></div>
</div>
</div>
</div>
<p>Qui sotto troviamo la media di due sole colonne per ciascuna specie.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;species&quot;</span><span class="p">)[[</span><span class="s2">&quot;body_mass_kg&quot;</span><span class="p">,</span> <span class="s2">&quot;flipper_length_mm&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>body_mass_kg</th>
      <th>flipper_length_mm</th>
    </tr>
    <tr>
      <th>species</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Adelie</th>
      <td>3.706164</td>
      <td>190.102740</td>
    </tr>
    <tr>
      <th>Chinstrap</th>
      <td>3.733088</td>
      <td>195.823529</td>
    </tr>
    <tr>
      <th>Gentoo</th>
      <td>5.092437</td>
      <td>217.235294</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Facciamo la stessa cosa per la deviazione standard.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;species&quot;</span><span class="p">)[[</span><span class="s2">&quot;body_mass_kg&quot;</span><span class="p">,</span> <span class="s2">&quot;flipper_length_mm&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>body_mass_kg</th>
      <th>flipper_length_mm</th>
    </tr>
    <tr>
      <th>species</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Adelie</th>
      <td>0.458620</td>
      <td>6.521825</td>
    </tr>
    <tr>
      <th>Chinstrap</th>
      <td>0.384335</td>
      <td>7.131894</td>
    </tr>
    <tr>
      <th>Gentoo</th>
      <td>0.501476</td>
      <td>6.585431</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<section id="aggiungere-nuove-colonne-con-transform">
<h3>Aggiungere nuove colonne con <code class="docutils literal notranslate"><span class="pre">.transform()</span></code><a class="headerlink" href="#aggiungere-nuove-colonne-con-transform" title="Permalink to this headline">#</a></h3>
<p>Molto spesso è utile inserire una colonna in un dataframe che è il risultato di un <code class="docutils literal notranslate"><span class="pre">groupby</span></code> intermedio e di un’aggregazione. Ad esempio, possiamo centrare i dati (sottrarre la media del gruppo)  o standardizzare per gruppo.</p>
<p>Di seguito è riportato un esempio dell’uso di <code class="docutils literal notranslate"><span class="pre">.transform()</span></code> per centrare una variabile per ciascuna specie. Si noti che stiamo usando la funzione lambda. Le funzioni lambda sono un modo rapido per scrivere delle funzioni senza dover assegnare loro un nome, ad es. <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">x:</span> <span class="pre">x+1</span></code> definisce una funzione che somma uno ad <code class="docutils literal notranslate"><span class="pre">x</span></code>. Nell’esempio seguente, la “x” nella funzione lambda è la variabile <code class="docutils literal notranslate"><span class="pre">bill_length_mm</span></code> che viene ragruppata in base alla specie.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;bill_length_mm_c&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;species&quot;</span><span class="p">)[</span><span class="s2">&quot;bill_length_mm&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">-</span> <span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>species</th>
      <th>island</th>
      <th>bill_length_mm</th>
      <th>bill_depth_mm</th>
      <th>flipper_length_mm</th>
      <th>body_mass</th>
      <th>sex</th>
      <th>new_column0</th>
      <th>new_column1</th>
      <th>new_column2</th>
      <th>new_column3</th>
      <th>body_mass_kg</th>
      <th>ratio1</th>
      <th>ratio2</th>
      <th>bill_length_mm_c</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.1</td>
      <td>18.7</td>
      <td>181.0</td>
      <td>3750.0</td>
      <td>Male</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>1</td>
      <td>3.75</td>
      <td>2.090909</td>
      <td>4.826667</td>
      <td>0.276027</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.5</td>
      <td>17.4</td>
      <td>186.0</td>
      <td>3800.0</td>
      <td>Female</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>1</td>
      <td>3.80</td>
      <td>2.270115</td>
      <td>4.894737</td>
      <td>0.676027</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>40.3</td>
      <td>18.0</td>
      <td>195.0</td>
      <td>3250.0</td>
      <td>Female</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>1</td>
      <td>3.25</td>
      <td>2.238889</td>
      <td>6.000000</td>
      <td>1.476027</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>36.7</td>
      <td>19.3</td>
      <td>193.0</td>
      <td>3450.0</td>
      <td>Female</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>1</td>
      <td>3.45</td>
      <td>1.901554</td>
      <td>5.594203</td>
      <td>-2.123973</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.3</td>
      <td>20.6</td>
      <td>190.0</td>
      <td>3650.0</td>
      <td>Male</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>1</td>
      <td>3.65</td>
      <td>1.907767</td>
      <td>5.205479</td>
      <td>0.476027</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
</section>
<section id="riassunto-come-accedere-a-righe-colonne-e-valori">
<h2>Riassunto: come accedere a righe, colonne e valori<a class="headerlink" href="#riassunto-come-accedere-a-righe-colonne-e-valori" title="Permalink to this headline">#</a></h2>
<p>La presenza di diversi modi per accedere ai valori nei frame di dati può creare confusione. Elenco qui nuovamente i diversi modi per estrarre la prima colonna di un DataFrame (quando quella prima colonna è chiamata <code class="docutils literal notranslate"><span class="pre">column</span></code> e il dataframe è <code class="docutils literal notranslate"><span class="pre">df</span></code>):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">df.column</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">df[&quot;column&quot;]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">df.loc[:,</span> <span class="pre">&quot;column&quot;]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">df.iloc[:,</span> <span class="pre">0]</span></code></p></li>
</ul>
<p>Nota che <code class="docutils literal notranslate"><span class="pre">:</span></code> significa ‘tutti gli elementi’! I modi per accedere alle righe sono simili (qui assumiamo che la prima riga si chiami <code class="docutils literal notranslate"><span class="pre">row</span></code>):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">df.loc[&quot;row&quot;,</span> <span class="pre">:]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">df.iloc[0,</span> <span class="pre">:]</span></code></p></li>
</ul>
<p>Per accedere al primo valore (ovvero il valore nella prima riga, prima colonna):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">df.column[0]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">df[&quot;column&quot;][0]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">df.iloc[0,</span> <span class="pre">0]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">df.loc[&quot;row&quot;,</span> <span class="pre">&quot;column&quot;]</span></code></p></li>
</ul>
<p>Negli esempi precedenti, le parentesi quadre forniscono le istruzioni su <em>dove</em> selezionare gli elementi dal DataFrame. Tuttavia, le parentesi quadre sono <em>anche</em> usate per denotare le liste. Quindi, se vogliamo selezionare <em>più</em> colonne o righe, è necessario usare una sintassi come la seguente:</p>
<p><code class="docutils literal notranslate"><span class="pre">df.loc[[&quot;row0&quot;,</span> <span class="pre">&quot;row1&quot;],</span> <span class="pre">[&quot;column0&quot;,</span> <span class="pre">&quot;column2&quot;]]</span></code></p>
<p>dove vengono selezionate due righe e due colonne tramite le liste <code class="docutils literal notranslate"><span class="pre">[&quot;row0&quot;,</span> <span class="pre">&quot;row1&quot;]</span></code> e <code class="docutils literal notranslate"><span class="pre">[&quot;column0&quot;,</span> <span class="pre">&quot;column2&quot;]</span></code>. Poiché facciamo riferimento a liste e valori, ci sono due gruppi di parentesi quadre.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Suggerimento</p>
<p>Se volete ricordare una sola sintassi per accedere a righe e colonne per <em>nome</em>, usate:</p>
<p><code class="docutils literal notranslate"><span class="pre">df.loc[[&quot;row0&quot;,</span> <span class="pre">&quot;row1&quot;,</span> <span class="pre">...],</span> <span class="pre">[&quot;col0&quot;,</span> <span class="pre">&quot;col1&quot;,</span> <span class="pre">...</span> <span class="pre">]]</span></code></p>
<p>Questa sintassi funziona anche con una singola riga o una singola colonna (o entrambe). Se volete ricordare una sola sintassi per accedere a righe e colonne per <em>posizione</em>, usate:</p>
<p><code class="docutils literal notranslate"><span class="pre">df.iloc[[0,</span> <span class="pre">1,</span> <span class="pre">...],</span> <span class="pre">[0,</span> <span class="pre">1,</span> <span class="pre">...]]</span></code></p>
<p>Questa sintassi funziona anche con una singola riga o una singola colonna (o entrambe).</p>
</div>
</section>
<section id="operazioni-su-righe-colonne-e-dataframe">
<h2>Operazioni su righe, colonne e dataframe<a class="headerlink" href="#operazioni-su-righe-colonne-e-dataframe" title="Permalink to this headline">#</a></h2>
<section id="operazioni-con-apply-su-righe-o-colonne">
<h3>Operazioni con <code class="docutils literal notranslate"><span class="pre">apply</span></code> su righe o colonne<a class="headerlink" href="#operazioni-con-apply-su-righe-o-colonne" title="Permalink to this headline">#</a></h3>
<p>Una delle caratteristiche di <strong>pandas</strong> è che consente di eseguire operazioni su <em>righe</em> o <em>colonne</em>  tramite il metodo <code class="docutils literal notranslate"><span class="pre">apply</span></code>. Possono essere utilizzate sia le funzioni regolari che le funzioni lambda. Il metodo <code class="docutils literal notranslate"><span class="pre">apply</span></code> applica la funzione indicata a un dato “asse” (<code class="docutils literal notranslate"><span class="pre">axis=0</span></code> o <code class="docutils literal notranslate"><span class="pre">axis=&quot;rows&quot;</span></code> per le righe, <code class="docutils literal notranslate"><span class="pre">axis=1</span></code> o <code class="docutils literal notranslate"><span class="pre">axis=&quot;colonne&quot;</span></code> per le colonne). Generiamo alcuni dati per dimostrarlo:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)),</span> <span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s2">&quot;ABCDE&quot;</span><span class="p">))</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
      <th>E</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>4</td>
      <td>4</td>
      <td>4</td>
      <td>3</td>
      <td>4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4</td>
      <td>1</td>
      <td>1</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>2</td>
      <td>4</td>
      <td>4</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;A_times_B&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;B&quot;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
      <th>E</th>
      <th>A_times_B</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>4</td>
      <td>4</td>
      <td>4</td>
      <td>3</td>
      <td>4</td>
      <td>16</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4</td>
      <td>1</td>
      <td>1</td>
      <td>2</td>
      <td>1</td>
      <td>4</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>2</td>
      <td>4</td>
      <td>4</td>
      <td>2</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Naturalmente, il modo molto più semplice per eseguire questa operazione molto comune è <code class="docutils literal notranslate"><span class="pre">df['val1_times_val2']</span> <span class="pre">=</span> <span class="pre">df['values1']*df['values2']</span></code>, ma ci sono dei casi in cui è necessario eseguire funzioni più complesse elemento-per.elemento e, per quelli, <code class="docutils literal notranslate"><span class="pre">apply</span></code> è davvero utile.</p>
</section>
<section id="operazioni-su-dataframe">
<h3>Operazioni su DataFrame<a class="headerlink" href="#operazioni-su-dataframe" title="Permalink to this headline">#</a></h3>
<p>Sono anche possibili operazioni su interi DataFrame. Come esempio, consideriamo l’esponenziazione e la trasposizione di un DataFrame:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)),</span> <span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s2">&quot;ABCDE&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> Dataframe:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> Exponenziazione:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">df</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> Trasposizione:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> Dataframe:
   A  B  C  D  E
0  2  0  1  1  1
1  2  0  0  1  2
2  2  1  0  0  3

 Exponenziazione:
          A         B         C         D          E
0  7.389056  1.000000  2.718282  2.718282   2.718282
1  7.389056  1.000000  1.000000  2.718282   7.389056
2  7.389056  2.718282  1.000000  1.000000  20.085537

 Trasposizione:
   0  1  2
A  2  2  2
B  0  0  1
C  1  0  0
D  1  1  0
E  1  2  3
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="commenti-e-considerazioni-finali">
<h2>Commenti e considerazioni finali<a class="headerlink" href="#commenti-e-considerazioni-finali" title="Permalink to this headline">#</a></h2>
<p>Questo è un breve esempio di analisi esplorativa dei dati e un’illustrazione delle funzionalità di <strong>pandas</strong>.</p>
</section>
<section id="riassunto-del-contenuto">
<h2>Riassunto del contenuto<a class="headerlink" href="#riassunto-del-contenuto" title="Permalink to this headline">#</a></h2>
<p>Dopo la lettura di questo capitolo dovresti sapere</p>
<ul class="simple">
<li><p>✅ importare un set di dati;</p></li>
<li><p>✅ selezionare una o più colonne da un DataFrame;</p></li>
<li><p>✅ filtrare le righe di un DataFrame con condizioni;</p></li>
<li><p>✅ rinominare le colonne di un DataFrame;</p></li>
<li><p>✅ trasformare le colonne di un DataFrame.</p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="012_correlation.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Le relazioni tra variabili</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="014_dice.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Calcolo combinatorio</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Corrado Caudek<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>